<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hor√≥scopo Semanal</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600&family=Cinzel:wght@400;500&family=Comfortaa:wght@500&display=swap');
        
        :root {
            --primary-color: #D4AF37;
            --secondary-color: #4A2545;
            --dark-bg: #0F0A1E;
            --text-color: #F5F0E6;
            --light-accent: #F5D073;
        }
        
        body {
            font-family: 'Quicksand', sans-serif;
            background: linear-gradient(135deg, var(--secondary-color) 0%, var(--dark-bg) 100%);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            line-height: 1.6;
        }
        
        .container {
            max-width: 800px;
            margin: 30px auto;
            padding: 30px;
            background: rgba(15, 10, 30, 0.85);
            border-radius: 15px;
            border: 1px solid var(--primary-color);
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.3);
            backdrop-filter: blur(5px);
        }
        
        h1 {
            font-family: 'Cinzel', serif;
            color: var(--primary-color);
            text-align: center;
            font-size: 2.8rem;
            margin-bottom: 15px;
            letter-spacing: 1px;
            text-shadow: 0 0 15px rgba(212, 175, 55, 0.6);
        }
        
        .subtitle {
            text-align: center;
            font-size: 1.1rem;
            margin-bottom: 30px;
            color: #E2D7D0;
        }
        
        .astral-info {
            background: rgba(74, 37, 69, 0.5);
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 30px;
            border-left: 4px solid var(--primary-color);
        }
        
        .astral-info h2 {
            font-family: 'Comfortaa', cursive;
            color: var(--primary-color);
            margin-top: 0;
            font-size: 1.5rem;
        }
        
        .current-status {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        @media (max-width: 600px) {
            .current-status {
                grid-template-columns: 1fr;
            }
        }
        
        .status-card {
            background: rgba(212, 175, 55, 0.1);
            border-radius: 8px;
            padding: 15px;
            border: 1px solid rgba(212, 175, 55, 0.2);
        }
        
        .status-card h3 {
            color: var(--primary-color);
            margin-top: 0;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .sign-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .sign-card {
            background: rgba(212, 175, 55, 0.1);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .sign-card:hover {
            transform: translateY(-5px);
            background: rgba(212, 175, 55, 0.2);
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.2);
        }
        
        .sign-card h3 {
            color: var(--primary-color);
            margin-top: 0;
            font-size: 1.2rem;
            border-bottom: 1px solid rgba(212, 175, 55, 0.3);
            padding-bottom: 8px;
        }
        
        .sign-card p {
            margin: 8px 0;
            font-size: 0.9rem;
        }
        
        .sign-card .emoji {
            font-size: 1.5rem;
            margin-bottom: 10px;
            display: block;
        }
        
        .reveal-button {
            display: block;
            width: 100%;
            background: linear-gradient(to right, var(--primary-color), var(--light-accent));
            color: var(--dark-bg);
            border: none;
            padding: 15px;
            font-size: 1.2rem;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            margin: 30px 0;
            transition: all 0.3s;
            font-family: 'Comfortaa', cursive;
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.4);
            text-align: center;
        }
        
        .reveal-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(212, 175, 55, 0.6);
        }
        
        .instagram-embed {
            min-height: 600px;
            background: rgba(74, 37, 69, 0.3);
            border-radius: 10px;
            display: none;
            justify-content: center;
            align-items: center;
            margin: 30px 0;
            border: 1px solid rgba(212, 175, 55, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .back-link {
            display: inline-flex;
            align-items: center;
            margin-top: 30px;
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 600;
            border: 1px solid var(--primary-color);
            padding: 12px 25px;
            border-radius: 50px;
            transition: all 0.3s;
            background: rgba(212, 175, 55, 0.1);
        }
        
        .back-link:hover {
            background: rgba(212, 175, 55, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.2);
        }
        
        .back-link::before {
            content: "‚Üê";
            margin-right: 8px;
            font-size: 1.2rem;
        }
        
        .moon-icon {
            font-size: 1.3rem;
            margin-right: 5px;
        }
        
        .full-moon-countdown {
            color: var(--primary-color);
            font-weight: 600;
            margin-top: 8px;
        }
        
        .astral-event {
            background: rgba(74, 37, 69, 0.7);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border-top: 3px solid var(--primary-color);
        }
        
        .astral-event h3 {
            color: var(--primary-color);
            margin-top: 0;
            font-family: 'Comfortaa', cursive;
        }
        
        .event-date {
            color: var(--light-accent);
            font-weight: 600;
            margin: 5px 0 10px;
            display: block;
        }
        
        .astral-event p {
            margin-bottom: 0;
        }
        
        .loading-spinner {
            display: none;
            width: 40px;
            height: 40px;
            margin: 20px auto;
            border: 4px solid rgba(212, 175, 55, 0.3);
            border-radius: 50%;
            border-top-color: var(--primary-color);
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        /* ===== MEJORAS PARA M√ìVILES ===== */
        @media (max-width: 480px) {
            body {
                padding: 10px;
                font-size: 14px;
            }

            .container {
                padding: 15px;
            }

            h1 {
                font-size: 1.8rem;
                margin-bottom: 10px;
            }

            .astral-info, .astral-event {
                padding: 15px;
            }

            .sign-info {
                grid-template-columns: 1fr; /* 1 columna en m√≥viles */
                gap: 10px;
            }

            .instagram-embed {
                min-height: 300px;
            }

            .reveal-button {
                font-size: 1rem;
                padding: 12px;
            }

            .back-link {
                padding: 10px 20px;
            }
        }

    </style>
</head>
<body>
    <div class="container">
        <h1>Hor√≥scopo Semanal</h1>
        <p class="subtitle">Predicciones astrales de <strong>@fersita.fresita._</strong></p>
        
        <div class="astral-info">
            <h2>√âpoca Astral Actual</h2>
            
            <div class="current-status">
                <div class="status-card">
                    <h3><span class="moon-icon">üåô</span> Fase lunar</h3>
                    <p id="moon-phase">Calculando fase lunar...</p>
                    <p id="full-moon-countdown" class="full-moon-countdown"></p>
                </div>
                <div class="status-card">
                    <h3>‚òø Mercurio</h3>
                    <p id="mercurio-info">Calculando estado...</p>
                </div>
            </div>
            
            <h3 style="color: var(--primary-color); margin-bottom: 15px;">Signos del Mes</h3>
            <div class="sign-info" id="current-signs">
                <!-- Los signos se insertar√°n din√°micamente aqu√≠ -->
            </div>
        </div>
        
        <div class="astral-event">
            <h3>Evento astron√≥mico importante</h3>
            <div id="astral-event-content">
                <span id="event-date" class="event-date"></span>
                <p id="event-description"></p>
                <p id="event-visibility" class="astral-event p"></p>
            </div>
        </div>
        
        <button id="revealBtn" class="reveal-button">
            <!-- El texto se actualizar√° din√°micamente -->
        </button>
        
        <div id="loadingSpinner" class="loading-spinner"></div>
        
        <div id="instagramEmbed" class="instagram-embed">
            <!-- Reemplaza este enlace con tu publicaci√≥n real de Instagram -->
            <blockquote class="instagram-media" data-instgrm-permalink="https://www.instagram.com/p/DH3Uh8UxP5H/?igsh=MXVzYmYyYzUxb2ppZw%3D%3D" data-instgrm-version="14" style="width: 100%;"></blockquote>
        </div>

        <a href="index.html" class="back-link">Volver al Refr√°n</a>
    </div>

    <script>
        // Variables CSS personalizadas
        const root = document.documentElement;
        
        // Datos completos de los signos zodiacales
        const zodiacSigns = [
            { 
                name: "Aries", 
                date: "21 Mar - 19 Abr", 
                element: "Fuego", 
                planet: "Marte", 
                stone: "Amatista",
                emoji: "‚ôà",
                monthStart: 2, // Marzo (0-indexado)
                dayStart: 21,
                monthEnd: 3, // Abril
                dayEnd: 19
            },
            { 
                name: "Tauro", 
                date: "20 Abr - 20 May", 
                element: "Tierra", 
                planet: "Venus", 
                stone: "Cuarzo rosa",
                emoji: "‚ôâ",
                monthStart: 3,
                dayStart: 20,
                monthEnd: 4,
                dayEnd: 20
            },
            { 
                name: "G√©minis", 
                date: "21 May - 20 Jun", 
                element: "Aire", 
                planet: "Mercurio", 
                stone: "√Ågata",
                emoji: "‚ôä",
                monthStart: 4,
                dayStart: 21,
                monthEnd: 5,
                dayEnd: 20
            },
            { 
                name: "C√°ncer", 
                date: "21 Jun - 22 Jul", 
                element: "Agua", 
                planet: "Luna", 
                stone: "Esmeralda",
                emoji: "‚ôã",
                monthStart: 5,
                dayStart: 21,
                monthEnd: 6,
                dayEnd: 22
            },
            { 
                name: "Leo", 
                date: "23 Jul - 22 Ago", 
                element: "Fuego", 
                planet: "Sol", 
                stone: "Ojo de tigre",
                emoji: "‚ôå",
                monthStart: 6,
                dayStart: 23,
                monthEnd: 7,
                dayEnd: 22
            },
            { 
                name: "Virgo", 
                date: "23 Ago - 22 Sep", 
                element: "Tierra", 
                planet: "Mercurio", 
                stone: "Jaspe",
                emoji: "‚ôç",
                monthStart: 7,
                dayStart: 23,
                monthEnd: 8,
                dayEnd: 22
            },
            { 
                name: "Libra", 
                date: "23 Sep - 22 Oct", 
                element: "Aire", 
                planet: "Venus", 
                stone: "Zafiro",
                emoji: "‚ôé",
                monthStart: 8,
                dayStart: 23,
                monthEnd: 9,
                dayEnd: 22
            },
            { 
                name: "Escorpio", 
                date: "23 Oct - 21 Nov", 
                element: "Agua", 
                planet: "Plut√≥n", 
                stone: "Topacio",
                emoji: "‚ôè",
                monthStart: 9,
                dayStart: 23,
                monthEnd: 10,
                dayEnd: 21
            },
            { 
                name: "Sagitario", 
                date: "22 Nov - 21 Dic", 
                element: "Fuego", 
                planet: "J√∫piter", 
                stone: "Turquesa",
                emoji: "‚ôê",
                monthStart: 10,
                dayStart: 22,
                monthEnd: 11,
                dayEnd: 21
            },
            { 
                name: "Capricornio", 
                date: "22 Dic - 19 Ene", 
                element: "Tierra", 
                planet: "Saturno", 
                stone: "Granate",
                emoji: "‚ôë",
                monthStart: 11,
                dayStart: 22,
                monthEnd: 0,
                dayEnd: 19
            },
            { 
                name: "Acuario", 
                date: "20 Ene - 18 Feb", 
                element: "Aire", 
                planet: "Urano", 
                stone: "Aguamarina",
                emoji: "‚ôí",
                monthStart: 0,
                dayStart: 20,
                monthEnd: 1,
                dayEnd: 18
            },
            { 
                name: "Piscis", 
                date: "19 Feb - 20 Mar", 
                element: "Agua", 
                planet: "Neptuno", 
                stone: "Amatista",
                emoji: "‚ôì",
                monthStart: 1,
                dayStart: 19,
                monthEnd: 2,
                dayEnd: 20
            }
        ];

        // Fechas de Mercurio retr√≥grado en 2025
        const mercuryRetrogradeDates = [
            { start: new Date('2025-03-15'), end: new Date('2025-04-07') },
            { start: new Date('2025-07-18'), end: new Date('2025-08-11') },
            { start: new Date('2025-11-09'), end: new Date('2025-11-29') }
        ];

        // Fechas de lunas llenas en 2025
        const fullMoonDates = [
            new Date('2025-01-13'),
            new Date('2025-02-12'),
            new Date('2025-03-14'),
            new Date('2025-04-13'),
            new Date('2025-05-12'),
            new Date('2025-06-11'),
            new Date('2025-07-10'),
            new Date('2025-08-09'),
            new Date('2025-09-07'),
            new Date('2025-10-07'),
            new Date('2025-11-05'),
            new Date('2025-12-05')
        ];

        // Fases lunares
        const moonPhases = [
            { name: "Nueva", emoji: "üåë", days: 1 },
            { name: "Creciente", emoji: "üåí", days: 7 },
            { name: "Cuarto Creciente", emoji: "üåì", days: 7 },
            { name: "Gibosa Creciente", emoji: "üåî", days: 5 },
            { name: "Llena", emoji: "üåï", days: 3 },
            { name: "Gibosa Menguante", emoji: "üåñ", days: 5 },
            { name: "Cuarto Menguante", emoji: "üåó", days: 7 },
            { name: "Menguante", emoji: "üåò", days: 7 }
        ];

        // Eventos astron√≥micos significativos de 2025 visibles desde Espa√±a/Hemisferio Norte
        const astronomicalEvents = [
            {
                month: 0, // Enero
                date: "3-4 de enero",
                description: "Lluvia de meteoros Cuadr√°ntidas - M√°xima actividad la noche del 3 al 4 de enero.",
                visibility: "Mejor visibilidad en la segunda mitad de la noche. Luna en fase creciente, condiciones favorables."
            },
            {
                month: 3, // Abril
                date: "8 de abril",
                description: "Eclipse solar total - No visible desde Espa√±a (visible en Pac√≠fico y Norteam√©rica).",
                visibility: "Desde Espa√±a solo se podr√° seguir por transmisiones en directo."
            },
            {
                month: 4, // Mayo
                date: "5-6 de mayo",
                description: "Lluvia de meteoros Eta Acu√°ridas - Restos del cometa Halley.",
                visibility: "Mejor visibilidad antes del amanecer. Luna en fase creciente, buena visibilidad."
            },
            {
                month: 7, // Agosto
                date: "12-13 de agosto",
                description: "Lluvia de meteoros Perseidas - M√°xima actividad noche del 12 al 13 de agosto.",
                visibility: "Excelentes condiciones este a√±o con Luna nueva. Hasta 100 meteoros/hora en lugares oscuros."
            },
            {
                month: 9, // Octubre
                date: "28-29 de octubre",
                description: "Eclipse lunar parcial - Visible completamente desde Espa√±a.",
                visibility: "Comienza a las 20:01 (hora peninsular), m√°ximo a las 22:14. Visible a simple vista."
            },
            {
                month: 11, // Diciembre
                date: "13-14 de diciembre",
                description: "Lluvia de meteoros Gem√≠nidas - Una de las mejores lluvias del a√±o.",
                visibility: "Luna en cuarto creciente, condiciones muy favorables despu√©s de la medianoche."
            }
        ];

        // Obtener el signo zodiacal actual
        function getCurrentZodiacSign(date) {
            const day = date.getDate();
            const month = date.getMonth();
            
            for (const sign of zodiacSigns) {
                // Caso especial para Capricornio (diciembre-enero)
                if (sign.monthStart === 11 && sign.monthEnd === 0) {
                    if ((month === 11 && day >= sign.dayStart) || 
                        (month === 0 && day <= sign.dayEnd)) {
                        return sign;
                    }
                } 
                // Para los dem√°s signos
                else if ((month === sign.monthStart && day >= sign.dayStart) || 
                         (month === sign.monthEnd && day <= sign.dayEnd)) {
                    return sign;
                }
            }
            
            return zodiacSigns[0]; // Por defecto
        }

        // Obtener el siguiente signo zodiacal
        function getNextZodiacSign(currentSign) {
            const currentIndex = zodiacSigns.findIndex(sign => sign.name === currentSign.name);
            return zodiacSigns[(currentIndex + 1) % zodiacSigns.length];
        }

        // Obtener semana del mes (1-5)
        function getWeekOfMonth(date) {
            const firstDay = new Date(date.getFullYear(), date.getMonth(), 1).getDay();
            const offset = (firstDay > 0) ? firstDay - 1 : 6;
            return Math.ceil((date.getDate() + offset) / 7);
        }

        // Calcular fase lunar aproximada
        function getMoonPhase(date) {
            const lunarCycle = 29.53;
            const knownNewMoon = new Date('2025-01-01');
            const daysSinceKnown = (date - knownNewMoon) / (1000 * 60 * 60 * 24);
            const currentPosition = daysSinceKnown % lunarCycle;
            
            let accumulatedDays = 0;
            for (const phase of moonPhases) {
                accumulatedDays += phase.days;
                if (currentPosition < accumulatedDays) {
                    return phase;
                }
            }
            return moonPhases[0];
        }

        // Calcular d√≠as hasta la pr√≥xima luna llena
        function getNextFullMoonCountdown(currentDate) {
            const nextFullMoon = fullMoonDates.find(date => date > currentDate);
            
            if (!nextFullMoon) {
                return { days: 0, date: "No hay datos disponibles" };
            }
            
            const diffTime = nextFullMoon - currentDate;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            
            return {
                days: diffDays,
                date: nextFullMoon.toLocaleDateString('es-ES', { day: 'numeric', month: 'long', year: 'numeric' })
            };
        }

        // Obtener mes actual (0-11)
        const currentDate = new Date();
        const currentMonth = currentDate.getMonth();
        const currentSign = getCurrentZodiacSign(currentDate);
        const nextSign = getNextZodiacSign(currentSign);
        const weekOfMonth = getWeekOfMonth(currentDate);
        const monthNames = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", 
                           "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];

        // Determinar si Mercurio est√° retr√≥grado
        function isMercuryRetrograde() {
            return mercuryRetrogradeDates.some(period => 
                currentDate >= period.start && currentDate <= period.end
            );
        }

        // Mostrar informaci√≥n astral din√°mica
        function updateAstralInfo() {
            const mercurioInfo = document.getElementById('mercurio-info');
            const moonPhaseInfo = document.getElementById('moon-phase');
            const fullMoonCountdown = document.getElementById('full-moon-countdown');
            const signsContainer = document.getElementById('current-signs');
            const revealBtn = document.getElementById('revealBtn');
            const eventDate = document.getElementById('event-date');
            const eventDescription = document.getElementById('event-description');
            const eventVisibility = document.getElementById('event-visibility');
            
            // Actualizar estado de Mercurio para 2025 (con saltos de l√≠nea)
            if (isMercuryRetrograde()) {
                const currentPeriod = mercuryRetrogradeDates.find(period => 
                    currentDate >= period.start && currentDate <= period.end
                );
                const startDate = currentPeriod.start.toLocaleDateString('es-ES', { day: 'numeric', month: 'long' });
                const endDate = currentPeriod.end.toLocaleDateString('es-ES', { day: 'numeric', month: 'long' });
                mercurioInfo.innerHTML = `‚òø <strong>Mercurio Retr√≥grado</strong><br>
                Del ${startDate} al ${endDate}<br>
                ‚ö†Ô∏è Revisa comunicaciones<br>
                ‚ö†Ô∏è Evita decisiones importantes`;
            } else {
                const nextRetrograde = mercuryRetrogradeDates.find(period => currentDate < period.start);
                if (nextRetrograde) {
                    const nextDate = nextRetrograde.start.toLocaleDateString('es-ES', { day: 'numeric', month: 'long' });
                    mercurioInfo.innerHTML = `‚òø <strong>Mercurio Directo</strong><br>
                    ‚úîÔ∏è Buen momento para comunicaciones<br>
                    Pr√≥ximo retr√≥grado: ${nextDate}`;
                } else {
                    mercurioInfo.innerHTML = `‚òø <strong>Mercurio Directo</strong><br>
                    ‚úîÔ∏è Buen momento para comunicaciones<br>
                    No hay m√°s retr√≥grados este a√±o`;
                }
            }
            
            // Actualizar fase lunar y contador de luna llena
            const moonPhase = getMoonPhase(currentDate);
            moonPhaseInfo.innerHTML = `${moonPhase.emoji} <strong>Luna ${moonPhase.name}</strong> (${currentDate.toLocaleDateString('es-ES', { day: 'numeric', month: 'long' })})`;
            
            const nextFullMoon = getNextFullMoonCountdown(currentDate);
            if (nextFullMoon.days > 0) {
                fullMoonCountdown.innerHTML = `Pr√≥xima luna llena en <strong>${nextFullMoon.days} d√≠as</strong> (${nextFullMoon.date})`;
            } else {
                fullMoonCountdown.innerHTML = `¬°Hoy es luna llena! üåï`;
            }
            
            // Actualizar bot√≥n con la temporada astral
            revealBtn.innerHTML = `Temporada de ${currentSign.name} ${currentSign.emoji}, Semana ${weekOfMonth} de ${monthNames[currentMonth]}`;
            
            // Mostrar solo 2 signos: el actual y el siguiente
            const currentSigns = [currentSign, nextSign];
            
            // Generar tarjetas de signos con informaci√≥n completa
            signsContainer.innerHTML = currentSigns.map(sign => `
                <div class="sign-card">
                    <span class="emoji">${sign.emoji}</span>
                    <h3>${sign.name}</h3>
                    <p>${sign.date}</p>
                    <p><strong>Elemento:</strong> ${sign.element}</p>
                    <p><strong>Planeta:</strong> ${sign.planet}</p>
                    <p><strong>Piedra:</strong> ${sign.stone}</p>
                </div>
            `).join('');
            
            // Actualizar evento astron√≥mico del mes
            const currentEvent = astronomicalEvents.find(event => event.month === currentDate.getMonth());
            
            if (currentEvent) {
                eventDate.textContent = currentEvent.date;
                eventDescription.textContent = currentEvent.description;
                eventVisibility.textContent = currentEvent.visibility;
            } else {
                // Buscar pr√≥ximo evento
                const nextEvent = astronomicalEvents.find(event => event.month > currentDate.getMonth());
                if (nextEvent) {
                    const nextMonth = monthNames[nextEvent.month];
                    eventDate.textContent = `Pr√≥ximamente en ${nextMonth}`;
                    eventDescription.textContent = `${nextEvent.date}: ${nextEvent.description}`;
                    eventVisibility.textContent = nextEvent.visibility;
                } else {
                    eventDate.textContent = "Pr√≥ximamente";
                    eventDescription.textContent = "No hay eventos astron√≥micos significativos visibles desde Espa√±a en los pr√≥ximos meses.";
                    eventVisibility.textContent = "";
                }
            }
        }

        // Cargar el embed de Instagram de forma fiable
        function loadInstagramEmbed() {
            const embed = document.getElementById('instagramEmbed');
            const spinner = document.getElementById('loadingSpinner');
            const revealBtn = document.getElementById('revealBtn');
            
            // Mostrar spinner y ocultar bot√≥n
            spinner.style.display = 'block';
            revealBtn.style.display = 'none';
            
            // Verificar si el script ya est√° cargado
            if (!window.instgrm) {
                const script = document.createElement('script');
                script.src = 'https://www.instagram.com/embed.js';
                script.async = true;
                script.defer = true;
                document.body.appendChild(script);
                
                script.onload = function() {
                    if (window.instgrm) {
                        instgrm.Embeds.process();
                        setTimeout(() => {
                            spinner.style.display = 'none';
                            embed.style.display = 'flex';
                        }, 1000);
                    } else {
                        fallbackLoad();
                    }
                };
                
                script.onerror = fallbackLoad;
            } else {
                // Si ya est√° cargado, procesar directamente
                instgrm.Embeds.process();
                spinner.style.display = 'none';
                embed.style.display = 'flex';
            }
        }

        // Fallback si falla la carga del script
        function fallbackLoad() {
            const embed = document.getElementById('instagramEmbed');
            const spinner = document.getElementById('loadingSpinner');
            const revealBtn = document.getElementById('revealBtn');
            
            spinner.style.display = 'none';
            embed.innerHTML = `
                <div style="padding: 20px; text-align: center;">
                    <p>No se pudo cargar el contenido de Instagram.</p>
                    <a href="https://www.instagram.com/fersita.fresita._" target="_blank" style="color: #D4AF37; font-weight: 600;">
                        Ver hor√≥scopo en Instagram
                    </a>
                </div>
            `;
            embed.style.display = 'flex';
            revealBtn.style.display = 'none';
        }

        // Llamar a la funci√≥n al cargar
        document.addEventListener('DOMContentLoaded', function() {
            updateAstralInfo();
            
            // Sistema de revelaci√≥n del hor√≥scopo
            document.getElementById('revealBtn').addEventListener('click', loadInstagramEmbed);
        });
    </script>
</body>
</html> 